<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:BiliLive.Views.MainWindow.Controls"
             x:DataType="vm:AutoServiceViewModel"
             mc:Ignorable="d" d:DesignWidth="500" 
             x:Class="BiliLive.Views.MainWindow.Controls.AutoServiceView">
    
    <Border Background="{DynamicResource SurfaceContainer}"
            CornerRadius="12"
            Name="MainBorder"
            ClipToBounds="True">
        <Border.Transitions>
            <Transitions>
                <DoubleTransition Property="Height" Duration="0:0:0.3" Easing="CubicEaseInOut"/>
            </Transitions>
        </Border.Transitions>
        <Grid RowDefinitions="Auto,*">
                                <Grid Grid.Row="0" Height="35" VerticalAlignment="Top">
                                    <Border Background="{DynamicResource SurfaceContainer}"
                                            BoxShadow="0 0.56 0 0 #26000000" />
                                    <Grid ColumnDefinitions="Auto,*">
                                        <TextBlock Text="AutoStream Service [Optional]"
                                                   FontWeight="Medium"
                                                   Margin="14 0 0 0"
                                                   Foreground="{DynamicResource OnSurface}"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left" />
                                        <ToggleSwitch Name="ToggleSwitch" Grid.Column="1" HorizontalAlignment="Right" 
                                                      OnContent="" OffContent=""
                                                      Click="Button_OnClick"
                                                      Command="{Binding ToggleOptionsCommand}"
                                                      IsChecked="{Binding IsEnabled}">
                                            <ToggleSwitch.Styles>
                                                <Style Selector="ToggleSwitch:checked /template/ Border#SwitchKnobBounds">
                                                    <Setter Property="Background" Value="{DynamicResource Primary}"/>
                                                </Style>
                                            </ToggleSwitch.Styles>
                                        </ToggleSwitch>
                                    </Grid>
                                </Grid>
            
                                
                                <Grid Grid.Row="1"
                                      Margin="8"
                                      IsVisible="{Binding IsEnabled}"
                                      RowDefinitions="*,*,*">
                                    <Grid Grid.Row="0"
                                          ColumnDefinitions="Auto,*">
                                        <TextBlock Grid.Column="0"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"
                                                   Margin="6 0 7 2"
                                                   FontSize="13"
                                                   FontWeight="Bold"
                                                  >
                                            Ffmpeg Path
                                        </TextBlock>
                                            <Button Grid.Column="1" Name="FfmpegPathBtn" 
                                                    HorizontalAlignment="Stretch"
                                                    CornerRadius="12"
                                                    Height="30"
                                                    FontSize="12"
                                                    Command="{Binding PickFfmpegPathCommand}"
                                                    Content="{Binding FfmpegPath,StringFormat=' {0}'}"
                                                    Background="{DynamicResource Surface}"
                                                    Theme="{StaticResource MdButton}">
                                                <Button.Styles>
                                                    <Style Selector="Button:pointerover /template/ ContentPresenter">
                                                        <Setter Property="BoxShadow" Value="0 0 0 0 #00000000" />
                                                        <Setter Property="Background"
                                                                Value="{DynamicResource SurfaceVariant}" />
                                                        <Setter Property="Foreground"
                                                                Value="{DynamicResource OnSurface}" />
                                                    </Style>
                                                </Button.Styles>
                                            </Button>
                                    </Grid>
                                    <Grid Grid.Row="1"
                                          Margin="0 8 0 5"
                                          ColumnDefinitions="Auto,*">
                                        <TextBlock Grid.Column="0"
                                                   Margin="16 0 7 2"
                                                   VerticalAlignment="Center"
                                                   FontSize="13"
                                                   FontWeight="Bold"
                                                   HorizontalAlignment="Right">
                                            Video Path
                                        </TextBlock>
                                        <Border Grid.Column="1">
                                            <Button HorizontalAlignment="Stretch"
                                                    CornerRadius="12"
                                                    Height="30"
                                                    FontSize="12"
                                                    Content="{Binding VideoPath,StringFormat=' {0}'}"
                                                    Command="{Binding PickVideoPathCommand}"
                                                    Background="{DynamicResource Surface}"
                                                    Theme="{StaticResource MdButton}">
                                                <Button.Styles>
                                                    <Style Selector="Button:pointerover /template/ ContentPresenter">
                                                        <Setter Property="BoxShadow" Value="0 0 0 0 #00000000" />
                                                        <Setter Property="Background"
                                                                Value="{DynamicResource SurfaceVariant}" />
                                                        <Setter Property="Foreground"
                                                                Value="{DynamicResource OnSurface}" />
                                                    </Style>
                                                </Button.Styles>
                                            </Button>
                                        </Border>

                                    </Grid>
                                    <StackPanel Margin="8 0 0 0" Grid.Row="2" Orientation="Horizontal">
                                        <CheckBox Theme="{StaticResource MdCheckBox}"
                                                  IsChecked="{Binding AutoStart}"
                                                  Command="{Binding AutoStartOptionCommand}"
                                                  Content="Start with windows" />
                                        <CheckBox Theme="{StaticResource MdCheckBox}"
                                                  IsChecked="{Binding Check60MinTask}"
                                                  Margin="8 0 0 0" 
                                                  Command="{Binding Check60MinTaskCommand}"
                                                  Content="Check 60min task" />
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>

</UserControl>
