<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:BiliLive.Views.MainWindow.Pages.HomePage"
             xmlns:resources="clr-namespace:BiliLive.Resources"
             xmlns:converters="clr-namespace:BiliLive.Converters"
             mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="400"
             x:Class="BiliLive.Views.MainWindow.Pages.HomePage.HomeView"
             FontFamily="{StaticResource NotoRegular}"
             x:DataType="vm:HomeViewModel">
    
    <Design.DataContext>
        <vm:HomeViewModel/>
    </Design.DataContext>
    
    <Grid Margin="5 0 5 0" RowDefinitions="Auto,Auto,*">
        <TextBlock Grid.Row="0" Text="主页" FontSize="18"/>
        
        <Border Grid.Row="1"
                Height="150"
                CornerRadius="18"
                Margin="0 10 0 0"
                Background="{DynamicResource SurfaceContainer}">
            <Grid ColumnDefinitions="Auto,*" Margin="18 0 0 0">
                <StackPanel Grid.Column="0"
                            VerticalAlignment="Center">
                    <TextBlock FontSize="16" Text="{Binding UserName,StringFormat=晚上好\,{0}!}"/>
                    <StackPanel Margin="0 8 0 0" Orientation="Horizontal">
                        <!-- 头像 -->
                        <Border Margin="5 0 5 5"
                                Width="71" Height="71"
                                CornerRadius="40" ClipToBounds="True">
                            <Image Source="{Binding UserFace}"
                                   Width="71" Height="71">
                            </Image>
                        </Border>
                        
                        <!-- 信息 -->
                        <StackPanel Margin="10,0,0,0"
                                    VerticalAlignment="Center">
                            <TextBlock Text="{Binding UserId,StringFormat=直播间ID:{0}}"
                                       FontSize="12"/> 
                            <TextBlock Text="{Binding UserId,StringFormat=用户ID:{0}}"
                                       FontSize="12"/>
                            
                            <TextBlock Margin="0 4 0 0" Text="直播链接:" FontSize="12"/>
                            
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="live.bilibili.com/10431980" FontSize="12"
                                           VerticalAlignment="Center"/>
                                <Button Theme="{StaticResource MdButton}"
                                        CornerRadius="8"
                                        Margin="5,0,0,0">
                                    <SvgBox PathData="{resources:Geometry {x:Static resources:MdIcons.Copy}}"
                                            Fill="{DynamicResource OnSurface}"
                                            Width="15" Height="15"/>
                                </Button>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
                
                <Border Grid.Column="1" Background="{DynamicResource SurfaceContainerHigh}" Margin="10 20 15 15"
                        VerticalAlignment="Center" Height="115" ClipToBounds="True" CornerRadius="12">
                        <StackPanel Margin="12">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="状态 "/>
                                <TextBlock Foreground="{Binding IsFinishing,Converter={converters:BoolToColorConverter}}" VerticalAlignment="Center" FontSize="10" RenderTransform="scale(1.8)" Text="・"/>
                                <TextBlock Foreground="{Binding IsFinishing,Converter={converters:BoolToColorConverter}}" VerticalAlignment="Center" FontSize="10" Text="{Binding StatusText}"/>
                            </StackPanel>
                          
                            <TextBlock Margin="8 3 0 0" Text="今日直播时长: 0小时15分钟 "/>
                            <TextBlock Margin="8 3 0 0" Text="观看人数: 3 "/>
                        </StackPanel>
                </Border>
            </Grid>
        </Border>
        
        <Grid Grid.Row="2" Margin="0 10 0 0"
              ColumnDefinitions="2*,*">
            <Border Grid.Column="0" CornerRadius="18" 
                    Background="{DynamicResource SurfaceContainer}">
                <StackPanel Margin="15">
                    <TextBlock Text="直播间信息"/>
                    <StackPanel Orientation="Horizontal">
                        <!-- 封面 -->
                        <Border  Margin="0 7 5 5" Width="132" Height="74"
                                 Background="Wheat"
                                 CornerRadius="12" ClipToBounds="True">
                            <Image Source="{Binding RoomCover}"
                                   Width="132" Height="74">
                            </Image>
                        </Border>
                        
                        <StackPanel Spacing="3" Margin="10">
                            <TextBlock FontSize="13" Text="标题"/>
                            <StackPanel Orientation="Horizontal">
                                <TextBox Width="150" Height="36" CornerRadius="11"></TextBox>
                                <Button Height="36" Theme="{StaticResource MdButton}" Margin="5,0,0,0" CornerRadius="11"
                                        Background="{DynamicResource SecondaryContainer}">
                                    <StackPanel Margin="3" Orientation="Horizontal">
                                        <SvgBox PathData="{resources:Geometry {x:Static resources:MdIcons.Restart}}"/>
                                        <TextBlock FontSize="12" VerticalAlignment="Center">分区</TextBlock>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                   
                    
                </StackPanel>
            </Border>
            
            <Border Grid.Column="1" CornerRadius="18" Margin="10 0 0 0"
                    Background="{DynamicResource SurfaceContainer}">
                
            </Border>
        </Grid>
        
    </Grid>
    
    <!-- <StackPanel Orientation="Horizontal"> -->
    <!--     ~1~ <Border MinWidth="300"> @1@ -->
    <!--     ~1~     <ContentControl Content="{Binding DanmakuVm}"/> @1@ -->
    <!--     ~1~ </Border> @1@ -->
    <!-- -->
    <!--     <StackPanel Orientation="Vertical"> -->
    <!--         <TextBlock Text="{Binding UserName,StringFormat=用户名:{0}}"/> -->
    <!--         <TextBlock Text="{Binding UserId,StringFormat=Uid:{0}}"/> -->
    <!--         <TextBlock Text="{Binding MaskedApiKey,StringFormat=ApiKey:{0}}"/> -->
    <!--         <TextBlock Text="{Binding MaskedApiKey,StringFormat=StreamUrl:{0}}"/> -->
    <!--         <StackPanel Orientation="Horizontal" -->
    <!--                     HorizontalAlignment="Left"> -->
    <!--             <TextBlock>头像:</TextBlock> -->
    <!--             <Border Height="30" Width="30" -->
    <!--                     ClipToBounds="True" -->
    <!--                     CornerRadius="30"> -->
    <!--                 <Image Source="{Binding UserFace}"/> -->
    <!--             </Border> -->
    <!--         </StackPanel> -->
    <!--         <TextBlock Text="{Binding StatusText,StringFormat=Status:{0}}"/> -->
    <!--         <Button Content="选择分区" -->
    <!--                 Command="{Binding SelectAreaCommand}"/> -->
    <!--          -->
    <!--     </StackPanel> -->
    <!-- </StackPanel> -->
  
    
</UserControl>
